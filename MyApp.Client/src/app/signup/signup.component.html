<app-page title="Sign Up" class="max-w-lg">
    <section class="mt-4 sm:shadow overflow-hidden sm:rounded-md">
        <form (ngSubmit)="onSubmit($event)" class="max-w-prose">
            <div class="shadow overflow-hidden sm:rounded-md">
                <error-summary except="displayName,userName,password,confirmPassword"></error-summary>
                <div class="px-4 py-5 bg-white dark:bg-black space-y-6 sm:p-6">
                    <h3 class="mb-4 text-2xl font-semibold text-gray-900 dark:text-gray-100 leading-tight">
                        Create a new account.
                    </h3>
                    <div class="flex flex-col gap-y-4">
                        <text-input id="displayName" name="displayName" help="Your first and last name" autoComplete="name"
                            [(ngModel)]="request().displayName"></text-input>
                        <text-input id="userName" name="userName" autoComplete="email" 
                            [(ngModel)]="request().userName"></text-input>
                        <text-input type="password" id="password" name="password" help="6 characters or more" autoComplete="new-password"
                            [(ngModel)]="request().password"></text-input>
                        <text-input id="confirmPassword" name="confirmPassword" type="password" 
                            [ngModel]="request().confirmPassword"></text-input>
                    </div>
                </div>
                <div class="pt-5 px-4 py-3 bg-gray-50 dark:bg-gray-900 text-right sm:px-6">
                    <div class="flex justify-end">
                        <div><form-loading></form-loading></div>
                        <div><primary-button class="ml-3">Sign Up</primary-button></div>
                    </div>
                </div>
            </div>
        </form>
    </section>

    <div class="flex mt-8 ml-8">
        <h3 class="mr-4 leading-8 text-gray-500">Quick Links</h3>
        <div class="flex flex-wrap max-w-lg gap-2">
            <secondary-button variant="outline" (click)="setUser('new&#64;user.com')">
                new&#64;user.com
            </secondary-button>
        </div>
    </div>

    <div class="mt-8 flex justify-center gap-x-4">
        <src-page path="signup/signup.component.html"></src-page>
    </div>
</app-page>

@if (signedIn()) {
    <div class="flex justify-center items-center p-8">
        <p>Redirecting...</p>
    </div>
}
